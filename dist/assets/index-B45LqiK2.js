var ee=Object.defineProperty;var ae=(a,t,s)=>t in a?ee(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var j=(a,t,s)=>(ae(a,typeof t!="symbol"?t+"":t,s),s);import{c as q,u as te,a as se,b as D,r as h,j as e,h as x,d as ne,e as le,f as M,g as G,i as U,k as C,R as z,B as L,V as O,Q as ie,l as re,m as ce,n as A,o as oe,p as de,q as ue,P as me}from"./vendor-BstmrLBq.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const he={nidn:null},H=q({name:"auth",initialState:he,reducers:{getAuth:a=>{a.nidn=localStorage.getItem("authData")},setAuth:(a,t)=>{localStorage.setItem("authData",t.payload),a.nidn=t.payload},clearAuth:a=>{localStorage.clear(),a.nidn=null}}}),{getAuth:Ge,setAuth:ge,clearAuth:pe}=H.actions,P=a=>a.authReducer,je=H.reducer,S=()=>te(),y=se,V=a=>{const t=D(),s=y(P),[l,n]=h.useState(!1),i=()=>{if(s.nidn==null)return n(!1),t("/login");n(!0)};return h.useEffect(()=>{i()},[l]),e.jsx(e.Fragment,{children:l?a.children:null})},be=a=>{const t=D(),s=y(P);return h.useEffect(()=>{if(s.nidn!=null)return t("/")},[]),e.jsx(e.Fragment,{children:a.children})},fe="/assets/agenda-icon-BYRs_2sd.png";function I(){const a=y(P),t=D();return e.jsx("section",{className:"welcoming",children:e.jsxs("div",{className:"container row-container spaceAroundRow",children:[e.jsxs("div",{className:"container__content containerYaxis",children:[e.jsx("h1",{children:"Tetap fokus dan teratur dengan aplikasi ABSEN."}),e.jsx("h2",{children:"Buat absensi pribadi maupun cuti dengan aplikasi ABSEN."}),e.jsxs("div",{className:"shortMenu",children:[a.nidn==null?e.jsx("button",{className:"btn button blueDark",onClick:()=>t("/login"),children:"Login"}):e.jsx("button",{className:"btn button blueDark",onClick:()=>t("/logout"),children:"Logout"}),a.nidn==null?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn button blue",onClick:()=>t("/absensi"),children:"Absensi"}),e.jsx("button",{className:"btn button blue",onClick:()=>t("/cuti"),children:"Cuti"})]})]})]}),e.jsx("div",{className:"container__content row-container",children:e.jsx("img",{src:fe,alt:"icon"})})]})})}const xe=({events:a,click:t})=>{const[s,l]=h.useState(x().date(1)),[n,i]=h.useState([]);h.useEffect(()=>{i(a.map(g=>({...g,date:s.clone().date(Math.random()*28+1)})))},[a,s]);const m=()=>e.jsxs("div",{className:"calendar-header row-container spaceAroundRow",children:[e.jsx("a",{href:"#",className:"",onClick:c,children:"<"}),e.jsx("span",{className:"",children:s.format("MMMM YYYY")}),e.jsx("a",{href:"#",className:"",onClick:o,children:">"})]}),u=()=>{const g=s.daysInMonth(),p=s.month(),d=x(s).startOf("month").format("d"),E=Array.from({length:Number(d)},(k,w)=>e.jsx("li",{className:"disabled",children:" "},`empty-${w}`)),_=Array.from({length:g},(k,w)=>{const N=w+1,T=n.filter(B=>x(B.startdate).date()===N&&x(B.startdate).month()===p);let Y=T.length>0?`active ${T[0].color}`:"active";return N===x().date()&&p===x().month()&&(Y="now"),e.jsx("li",{className:Y,onClick:()=>t(T),children:N},`day-${N}`)}),f=(7-(Number(d)+g)%7)%7,v=Array.from({length:f},(k,w)=>e.jsx("li",{className:"empty",children:" "},`empty-${Number(d)+g+w}`)),b=[...E,..._,...v],Z=b.reduce((k,w,N)=>(N%7===0&&k.push(b.slice(N,N+7)),k),[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"calendar-sub-header grid",children:[e.jsx("span",{children:"min"}),e.jsx("span",{children:"sen"}),e.jsx("span",{children:"sel"}),e.jsx("span",{children:"rab"}),e.jsx("span",{children:"kam"}),e.jsx("span",{children:"jum"}),e.jsx("span",{children:"sab"})]}),e.jsx("ol",{className:"calendar-content grid",children:Z.map((k,w)=>k)})]})},r=()=>{const g=a.reduce((p,d)=>(p.push({name:d.calendar,color:d.color}),p),[]);return e.jsx("div",{className:"legend",children:g.map((p,d)=>e.jsx("span",{className:`entry ${p.color}`,children:p.name},d))})},o=()=>{l(s.clone().add(1,"months"))},c=()=>{l(s.clone().subtract(1,"months"))};return e.jsxs("div",{className:"calendar",children:[m(),u(),r()]})},ve={absen:null},K=q({name:"absen",initialState:ve,reducers:{getAbsent:(a,t)=>{a.absen=t.payload},setAbsent:(a,t)=>{a.absen=t.payload}}}),{setAbsent:$,getAbsent:Ue}=K.actions,Ne=a=>a.absenReducer,ye=K.reducer;class J{constructor(t,s,l,n,i){j(this,"id");j(this,"nidn");j(this,"tanggal");j(this,"absen_masuk");j(this,"absen_keluar");this.id=t,this.nidn=s,this.tanggal=l,this.absen_masuk=n,this.absen_keluar=i}}function Q(){const a=y(P),t=y(Ne),s=S(),l=[{eventName:"Skripsi",tahun_akademik:"Ganjil 2023/2024",eventLocation:"STAI Al-Andina Sukabumi",calendar:"penagihan",color:"masuk",color_dot:"#b00020;",startdate:"2024-03-09",enddate:"2024-03-10",author:0,description:""},{eventName:"Pengisian KRS",tahun_akademik:"Ganjil 2023/2024",eventLocation:"UNU Kalbar Pontianak",calendar:"penagihan",color:"cuti",color_dot:"#b00020;",startdate:"2024-02-19",enddate:"2024-03-02",author:0,description:""}],n=l.filter(u=>x(u.startdate).format("YYYY-MM-DD")===x().format("YYYY-MM-DD")),i=u=>{console.log(u)};h.useEffect(()=>{const u={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};fetch(`http://localhost:8000/absen/check/${a.nidn}/${new Date().toISOString().slice(0,10)}`,u).then(async r=>{if(r.ok)return r.json();throw new Error(`${r.status}`)}).then(async r=>{console.log(r),r.status!=200?alert(r.message??"terjadi masalah pada saat request ke server"):r.data==null?s($(null)):s($(new J(r.data.id,r.data.nidn,r.data.tanggal,r.data.absen_masuk,r.data.absen_keluars)))}).catch(r=>{alert(r.message)}).finally(()=>{})},[]);const m=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(u=>{var r;if(t.absen==null){const o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nidn:a.nidn,tanggal:new Date().toISOString().slice(0,10),absen_masuk:"08:00:00",lat:u.coords.latitude,long:u.coords.longitude})};fetch("http://localhost:8000/absen/masuk",o).then(async c=>{if(c.ok)return c.json();throw new Error(`${c.status}`)}).then(async c=>{console.log(c),c.status!=200?alert(c.message??"terjadi masalah pada saat request ke server"):s($(new J(c.data.id,a.nidn,new Date().toISOString().slice(0,10),"08:00:00",null)))}).catch(c=>{alert(c.message)}).finally(()=>{})}else if(((r=t.absen)==null?void 0:r.absen_keluar)==null){const o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nidn:a.nidn,tanggal:new Date().toISOString().slice(0,10),absen_keluar:"09:00:00"})};fetch("http://localhost:8000/absen/keluar",o).then(async c=>{if(c.ok)return c.json();throw new Error(`${c.status}`)}).then(async c=>{console.log(c),c.status!=200&&alert(c.message??"terjadi masalah pada saat request ke server")}).catch(c=>{alert(c.message)}).finally(()=>{})}},u=>{alert(u.message)}):alert("Geolocation is not supported by this browser.")};return e.jsxs("section",{className:"absent card",children:[e.jsxs("div",{className:"absent__content row-container spaceBetweenRow",children:[e.jsx("h3",{children:"Absensi"}),a.nidn!=null&&(t.absen==null||t.absen!=null)?e.jsx("button",{className:"btn button buttonSmall blueDark",onClick:m,children:t.absen==null?"Absen masuk":"Absen keluar"}):e.jsx(e.Fragment,{})]}),e.jsxs("div",{className:"absent__content row-container spaceAroundRow",children:[e.jsx(xe,{events:l,click:i}),e.jsx("div",{className:"calendar-event",children:n.length>0?n.map((u,r)=>e.jsxs("div",{className:"event-item",children:[e.jsx("label",{className:`event-status ${u.color}`,children:u.calendar}),e.jsx("p",{className:"event-tujuan",children:u.eventLocation})]},r)):e.jsx("div",{className:"event-item notFound",children:"Tidak ada acara"})})]})]})}function _e(){return e.jsx(h.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsxs("div",{className:"wrapper",children:[e.jsx(I,{}),e.jsx(Q,{})]})})}function ke(){return e.jsx(h.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsxs("div",{className:"wrapper",children:[e.jsx(I,{}),e.jsx(Q,{})]})})}class we{constructor(t,s,l,n,i,m,u){j(this,"tanggal");j(this,"lama");j(this,"jenis");j(this,"tujuan");j(this,"status");j(this,"id");j(this,"openDetail");this.tanggal=t,this.lama=s,this.jenis=l,this.tujuan=n,this.status=i,this.id=m,this.openDetail=u}}const Ce={list:[],paging:{totalData:0,totalPage:10,currentPage:1,start:0,end:0,prevPage:null,nextPage:null},editCuti:null,deletedCuti:null},W=ne("cuti/fetchData",async a=>{const t={method:"GET",headers:{"Content-Type":"application/json"}};console.log(`http://localhost:8000/cuti?page=${a}&pageSize=10`);const l=await(await fetch(`http://localhost:8000/cuti?page=${a}&pageSize=10`,t)).json();if(l.status!==200)throw new Error(l.message??"Terjadi masalah pada saat request ke server");const n=l.list.data.map(m=>new we(m.tanggal_pengajuan,m.lama_cuti,m.jenis_cuti,m.tujuan,"Pending",m.id,!1)),i={totalData:l.list.totalData,totalPage:l.list.totalPage,currentPage:l.list.currentPage,start:l.list.startIndex||1,end:l.list.endIndex,prevPage:l.list.prevPage,nextPage:l.list.nextPage};return{cutiList:n,paging:i}}),X=q({name:"cuti",initialState:Ce,reducers:{loadList:(a,t)=>{a.list=t.payload},editCuti:(a,t)=>{a.editCuti=t.payload},deletedCuti:(a,t)=>{a.deletedCuti=t.payload},pagingTable:(a,t)=>{a.paging=t.payload},prev:a=>{a.paging.currentPage-=1},next:a=>{a.paging.currentPage+=1}},extraReducers:a=>{a.addCase(W.fulfilled,(t,s)=>{t.list=s.payload.cutiList,t.paging=s.payload.paging})}}),{loadList:ze,editCuti:Se,deletedCuti:Ae,pagingTable:He,prev:De,next:Ee}=X.actions,F=a=>a.cutiReducer,Pe=X.reducer,Te=({})=>{const a=y(F),t=S();return e.jsxs("div",{className:"pagination",children:[e.jsxs("div",{children:["Page : ",e.jsx("b",{children:a.paging.currentPage})]}),e.jsxs("div",{children:[a.paging.start,"-",a.paging.end>a.paging.totalData?a.paging.totalData:le," ",e.jsx("b",{children:"of"})," ",a.paging.totalData]}),e.jsxs("div",{className:"pagination__button",children:[a.paging.prevPage!=null?e.jsx("button",{onClick:()=>t(De()),children:"<"}):e.jsx(e.Fragment,{}),a.paging.nextPage!=null?e.jsx("button",{onClick:()=>t(Ee()),children:">"}):e.jsx(e.Fragment,{})]})]})},R={1:"tes",default:"-"},$e=a=>R.hasOwnProperty(a)?R[a]:R.default,Re=({data:a})=>{const t=S();return e.jsx(e.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{"data-name":"Tanggal",children:x(a.tanggal).locale("id-ID").format("dddd, DD MMMM YYYY")}),e.jsxs("td",{"data-name":"Lama Cuti",children:[a.lama," hari"]}),e.jsx("td",{"data-name":"Jenis Cuti",children:e.jsx("span",{className:"custom-badge pending",children:$e(a.jenis)})}),e.jsx("td",{"data-name":"Tujuan",children:a.tujuan}),e.jsx("td",{"data-name":"Status",children:e.jsx("span",{className:"custom-badge pending",children:a.status})}),e.jsx("td",{"data-name":"Aksi",children:e.jsxs("div",{className:"action-desktop",children:[e.jsx("button",{onClick:()=>t(Se(a)),"data-bs-toggle":"modal","data-bs-target":"#modalEdit","data-id":a.id,className:"btn button blueDark buttonSmall w-full",children:"Edit"}),e.jsx("button",{onClick:()=>t(Ae(a)),"data-id":a.id,className:"btn button blue buttonSmall w-full",children:"Hapus"})]})})]})})},qe=({colums:a})=>{const t=y(F);return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("tr",{children:a.map((s,l)=>e.jsx("th",{children:s},l))})}),e.jsx("tbody",{children:t.list.map((s,l)=>e.jsx(Re,{data:s},s.id))})]})},Me=()=>{const a=h.useRef(null),t=h.useRef(null),[s,l]=h.useState({}),[n,i]=h.useState({tanggal_pengajuan:"",lama_cuti:"",tujuan:"",jenis_cuti:""}),m=M({tanggal_pengajuan:G().required("this is required"),lama_cuti:U().typeError("must be a number").min(1,"this must be at least 1 day").required("this is required"),tujuan:C().required("this is required"),jenis_cuti:C().required("this is required")}),u=async r=>{var o;r.preventDefault();try{await m.validate(n,{abortEarly:!1});const c={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tanggal_pengajuan:((o=new Date(n.tanggal_pengajuan).toISOString())==null?void 0:o.split("T")[0])??"",lama_cuti:n.lama_cuti,tujuan:n.tujuan,jenis_cuti:n.jenis_cuti})};await L.promise(new Promise((g,p)=>{console.log(c),t.current&&(t.current.disabled=!0),a.current&&(a.current.disabled=!0),setTimeout(()=>{fetch("http://localhost:8000/cuti/create",c).then(async d=>d.json()).then(async d=>{console.log(d),d.status!=200?p(d.message??"terjadi masalah pada saat request ke server"):g(d.message)}).catch(d=>{console.log(d),p(d)}).finally(()=>{t.current&&(t.current.disabled=!1),a.current&&(a.current.disabled=!1)})},2e3)}),{pending:{render(){return"Loading"}},success:{render({data:g}){return`${g}`}},error:{render({data:g}){return`${g}`}}})}catch(c){if(c instanceof O){const g={};c.inner.forEach(p=>{p.path&&(g[p.path]=p.message)}),l(g)}}};return z.createPortal(e.jsx("div",{className:"modal fades show",id:"modalTambah","aria-hidden":"true",style:{display:"none"},children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Tambah Cuti"}),e.jsx("button",{type:"button",ref:t,className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Tanggal Pengajuan"}),e.jsx("input",{type:"date",className:`form-control${s.tanggal_pengajuan?" is-invalid":""}`,defaultValue:n.tanggal_pengajuan,onChange:r=>i({...n,tanggal_pengajuan:r.target.value})}),s.tanggal_pengajuan&&e.jsx("div",{className:"invalid-feedback",children:s.tanggal_pengajuan})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Jenis Cuti"}),e.jsxs("select",{className:`form-control select${s.jenis_cuti?" is-invalid":""}`,defaultValue:n.jenis_cuti,onChange:r=>i({...n,jenis_cuti:r.target.value}),children:[e.jsx("option",{value:"",children:"--pilih--"}),e.jsx("option",{value:"1",children:"tes"})]}),s.jenis_cuti&&e.jsx("div",{className:"invalid-feedback",children:s.jenis_cuti})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Lama Cuti"}),e.jsx("input",{type:"number",className:`form-control${s.lama_cuti?" is-invalid":""}`,defaultValue:n.lama_cuti,onChange:r=>i({...n,lama_cuti:r.target.value})}),s.lama_cuti&&e.jsx("div",{className:"invalid-feedback",children:s.lama_cuti})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Tujuan"}),e.jsx("textarea",{defaultValue:n.tujuan,className:`form-control${s.tujuan?" is-invalid":""}`,onChange:r=>i({...n,tujuan:r.target.value})}),s.tujuan&&e.jsx("div",{className:"invalid-feedback"})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"submit",ref:a,className:"button buttonSmall blueDark",children:"Simpan"})})]})})})}),document.getElementById("modal-tambah-cuti"))},Le=({id:a,tanggal_pengajuan:t,jenis_cuti:s,lama_cuti:l,tujuan:n})=>{const i=h.useRef(null),m=h.useRef(null),[u,r]=h.useState({}),[o,c]=h.useState({id:"",tanggal_pengajuan:"",lama_cuti:"",tujuan:"",jenis_cuti:""});h.useEffect(()=>{c({id:a,tanggal_pengajuan:t,lama_cuti:l,tujuan:n,jenis_cuti:s})},[a,t,s,l,n]);const g=M({tanggal_pengajuan:G().required("this is required"),lama_cuti:U().typeError("must be a number").min(1,"this must be at least 1 day").required("this is required"),tujuan:C().required("this is required"),jenis_cuti:C().required("this is required")}),p=async d=>{var E;d.preventDefault();try{await g.validate(o,{abortEarly:!1});const _={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:o.id,tanggal_pengajuan:((E=new Date(o.tanggal_pengajuan).toISOString())==null?void 0:E.split("T")[0])??"",lama_cuti:o.lama_cuti,tujuan:o.tujuan,jenis_cuti:o.jenis_cuti})};await L.promise(new Promise((f,v)=>{console.log(_),m.current&&(m.current.disabled=!0),i.current&&(i.current.disabled=!0),setTimeout(()=>{fetch("http://localhost:8000/cuti/update",_).then(async b=>b.json()).then(async b=>{console.log(b),b.status!=200?v(b.message??"terjadi masalah pada saat request ke server"):f(b.message)}).catch(b=>{console.log(b),v(b)}).finally(()=>{m.current&&(m.current.disabled=!1),i.current&&(i.current.disabled=!1)})},2e3)}),{pending:{render(){return"Loading"}},success:{render({data:f}){return`${f}`}},error:{render({data:f}){return`${f}`}}})}catch(_){if(_ instanceof O){const f={};_.inner.forEach(v=>{v.path&&(f[v.path]=v.message)}),r(f)}}};return z.createPortal(e.jsx("div",{className:"modal fades show",id:"modalEdit","aria-hidden":"true",style:{display:"none"},children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Tambah Cuti"}),e.jsx("button",{type:"button",ref:m,className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Tanggal Pengajuan"}),e.jsx("input",{type:"date",className:`form-control${u.tanggal_pengajuan?" is-invalid":""}`,defaultValue:o.tanggal_pengajuan,onChange:d=>c({...o,tanggal_pengajuan:d.target.value})}),u.tanggal_pengajuan&&e.jsx("div",{className:"invalid-feedback",children:u.tanggal_pengajuan})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Jenis Cuti"}),e.jsxs("select",{className:`form-control select${u.jenis_cuti?" is-invalid":""}`,defaultValue:o.jenis_cuti,onChange:d=>c({...o,jenis_cuti:d.target.value}),children:[e.jsx("option",{selected:o.jenis_cuti=="",value:"",children:"--pilih--"}),e.jsx("option",{selected:o.jenis_cuti=="1",value:"1",children:"tes"})]}),u.jenis_cuti&&e.jsx("div",{className:"invalid-feedback",children:u.jenis_cuti})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Lama Cuti"}),e.jsx("input",{type:"number",className:`form-control${u.lama_cuti?" is-invalid":""}`,defaultValue:o.lama_cuti,onChange:d=>c({...o,lama_cuti:d.target.value})}),u.lama_cuti&&e.jsx("div",{className:"invalid-feedback",children:u.lama_cuti})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Tujuan"}),e.jsx("textarea",{defaultValue:o.tujuan,className:`form-control${u.tujuan?" is-invalid":""}`,onChange:d=>c({...o,tujuan:d.target.value})}),u.tujuan&&e.jsx("div",{className:"invalid-feedback"})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"submit",ref:i,className:"button buttonSmall blueDark",children:"Simpan"})})]})})})}),document.getElementById("modal-ubah-cuti"))};function Oe(){var l,n,i,m,u;const a=y(F),t=S(),s=async(r,o)=>{await r(W(o))};return h.useEffect(()=>(s(t,a.paging.currentPage),()=>{}),[a.paging.currentPage]),h.useEffect(()=>{var r;return((r=a.deletedCuti)==null?void 0:r.id)!=null&&L.promise(new Promise((o,c)=>{var g;console.log((g=a.deletedCuti)==null?void 0:g.id),setTimeout(()=>{var p;fetch(`http://localhost:8000/cuti/delete/${(p=a.deletedCuti)==null?void 0:p.id}`,{}).then(async d=>d.json()).then(async d=>{console.log(d),d.status!=200?c(d.message??"terjadi masalah pada saat request ke server"):o(d.message)}).catch(d=>{console.log(d),c(d)}).finally(()=>{})},2e3)}),{pending:{render(){return"Loading"}},success:{render({data:o}){return`${o}`}},error:{render({data:o}){return`${o}`}}}),()=>{}},[a.deletedCuti]),e.jsxs(h.Suspense,{fallback:e.jsx(e.Fragment,{children:"Loading..."}),children:[e.jsxs("div",{className:"wrapper",children:[e.jsx(I,{}),e.jsxs("section",{className:"leave card",children:[e.jsxs("div",{className:"leave__content row-container spaceBetweenRow",children:[e.jsx("h3",{children:"Cuti"}),e.jsx("button",{id:"btnModalTambah",className:"button buttonSmall blueDark","data-bs-toggle":"modal","data-bs-target":"#modalTambah",children:"Tambah"})]}),e.jsxs("div",{className:"leave__content row-container spaceAroundRow",children:[e.jsx(qe,{colums:["Tanggal","Lama","Jenis","Tujuan","Status","Aksi"]}),e.jsx(Te,{})]})]}),e.jsx(Me,{}),e.jsx(Le,{id:((l=a.editCuti)==null?void 0:l.id)??"",tanggal_pengajuan:((n=a.editCuti)==null?void 0:n.tanggal)??"",jenis_cuti:((i=a.editCuti)==null?void 0:i.jenis)??"",lama_cuti:`${((m=a.editCuti)==null?void 0:m.lama)??""}`,tujuan:((u=a.editCuti)==null?void 0:u.tujuan)??""})]}),e.jsx(ie,{})]})}function Ie(){const a=h.useRef(null),t=S(),s=D(),[l,n]=h.useState({}),[i,m]=h.useState({nidn:"",password:""}),u=M({nidn:C().required("this is required"),password:C().required("this is required")}),r=async o=>{o.preventDefault();try{await u.validate(i,{abortEarly:!1}),t(ge(i.nidn)),setTimeout(()=>{s("/")},1e3)}catch(c){if(console.log(`error: ${c}`),c instanceof O){const g={};c.inner.forEach(p=>{p.path&&(g[p.path]=p.message)}),n(g)}}};return e.jsxs("form",{className:"grid",onSubmit:r,children:[e.jsx("div",{className:"layer"}),e.jsxs("section",{className:"section__login",children:[e.jsxs("div",{className:"top",children:[e.jsx("img",{className:"section__login--img",src:"https://sippm.unpak.ac.id/assets/img/logo.webp",alt:"logo"}),e.jsx("h1",{className:"section__login--title",children:"Login"})]}),e.jsxs("div",{className:"bottom",children:[e.jsxs("div",{className:"block",children:[e.jsx("label",{className:"form-label",children:"Nidn"}),e.jsx("input",{type:"text",placeholder:"Masukkan nidn anda",className:`form-control${l.nidn?" is-invalid":""}`,defaultValue:i.nidn,onChange:o=>m({...i,nidn:o.target.value})}),l.nidn&&e.jsx("div",{className:"invalid-feedback",children:l.nidn})]}),e.jsxs("div",{className:"blck",children:[e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Masukkan password anda",className:`form-control${l.password?" is-invalid":""}`,defaultValue:i.password,onChange:o=>m({...i,password:o.target.value})}),l.password&&e.jsx("div",{className:"invalid-feedback",children:l.password})]}),e.jsx("button",{type:"submit",ref:a,className:"btn btn-primary w-full",children:"Masuk"})]})]})]})}const Fe=()=>{const a=D(),t=S();return h.useEffect(()=>{t(pe()),a("/login")},[]),e.jsx(e.Fragment,{})};function Ye(){return e.jsx(re,{children:e.jsxs(ce,{children:[e.jsx(A,{path:"/",element:e.jsx(_e,{})}),e.jsx(A,{path:"/absensi",element:e.jsx(V,{children:e.jsx(ke,{})})}),e.jsx(A,{path:"/cuti",element:e.jsx(V,{children:e.jsx(Oe,{})})}),e.jsx(A,{path:"/login",element:e.jsx(be,{children:e.jsx(Ie,{})})}),e.jsx(A,{path:"/logout",element:e.jsx(Fe,{})})]})})}const Be=oe({reducer:{cutiReducer:Pe,absenReducer:ye,authReducer:je},middleware:a=>a({serializableCheck:!1})});de.createRoot(document.getElementById("root")).render(e.jsx(ue.StrictMode,{children:e.jsx(me,{store:Be,children:e.jsx(Ye,{})})}));
